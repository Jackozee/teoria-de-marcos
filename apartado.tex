\section{Apartado técnico}

En esta sección veremos que los conceptos de negación e implicación se
pueden trabajar en contextos más generales.

\subsection{Negaciones}\label{ss:negaciones}

En \ref{ss:heyting} vimos que toda álgebra booleana tiene una
implicación dada por $(x\succ y)=\neg x\succ y$. Este es nuestro
caballo de batalla. También vimos que el complemento de un elemento se
puede recuperar de la implicación como $\neg x = (x\succ 0)$.
De hecho esta última operación se puede hacer en cualquier álgebra de
Heyting $A$. En este caso, $b=(x\succ 0)$ no es, necesariamente, un
complemento de $A$, pero sí tiene la propiedad de ser el mayor
$b$ que cumple $x\inf b=0$.

La siguiente definición nos permite trabajar con esta noción en una
retícula que puede ni siquiera ser álgebra de Heyting.

\begin{definition}[Negaciones]
  Si $A$ es una retícula y $a\in A$,
  entonces una negación de $a$ es un elemento $b\in A$ tal que
  \[
      x\leq a \ssi x\inf b=0
  \]
  para todo $x\in A$.
\end{definition}
Así, $b,b'$ son negaciones de $a$,
entonces $b\inf a=b'\inf a=0$ (porque $b\leq b$ y $b'\leq b'$).
Así, $b\leq b'$ y $b'\leq b$, por lo cual $b=b$.
Es decir, las negaciones son únicas en caso de existir, así que,
si un elemento $a\in A$ tiene negación,
ésta se denota como $\neg a$.
Nótese que, en este caso, para demostrar la unicidad
no se requirió que $A$ fuera distributiva.

Sin embargo, si $A$ es distributiva
y $a\in A$ tiene complemento $a'$ (único, por distributividad),
entonces $a'$ también es la negación de $a$, es decir, $\neg a=a'$.
En efecto, es claro que $x\leq a'\implies x\inf a=0$;
mientras que, si $x\inf a=0$, entonces
\begin{align*}
    x
    &= x\inf(a'\sup a) \\
    &= (x\inf a')\sup (x\inf a) \\
    &= x\inf a',
\end{align*}
por lo cual $x\leq a'$.

Juntando estas observaciones, obtenemos el siguiente resultado:
\begin{lemma}
  \label{lemma:complementado-ssi-supneg}
   Si $A$ es una retícula distributiva,
   un elemento $a\in A$ con negación tiene complemento $a'$
   si, y solo si, $\neg a\sup a=1$ y, en este caso, $a'=\neg a$.
\end{lemma}

En particular, en un álgebra booleana $A$, todo elemento $a\in A$
tiene negación dada por el complemento: $\neg a = a'$.

De la definición de la negación, tenemos que
$x\leq \neg\neg a$ si, y solo si, $x\inf\neg a=0$.
Dado que $a\inf\neg a=0$, podemos deducir que $a\leq\neg\neg a$.
Aunque en un álgebra booleana se tiene la otra comparación
(es decir, $\neg\neg a = a$),
esto no es cierto en general:

\begin{example}
  \label{exa:negaciones-en-espacios-top}
  Sea $S$ un espacio topológico y consideremos el marco $\cal OS$.
  Todo abierto $u\in\cal O S$ tiene negación $\neg u$ en $\cal OS$.
  En efecto, para todo abierto $v\in\cal OS$ tenemos
  \begin{align*}
        u\cap v = \emptyset
        &\iff v\subseteq u' \\
        &\iff v\subseteq (u')^\circ \in\cal OS.
  \end{align*}
  Por lo tanto, $u$ tiene negación dada como
  $\neg u = (u')^\circ = {\ol u}'$.
  
  En particular, el abierto $u=(-1,0)\cup(0,1)\in\cal O\mathbb R$
  tiene cerradura $\ol u = [-1,1]$, así que
  \begin{align*}
    \neg\neg u
    &= \neg(\ol u ') \\
    &= \neg([-1,1]') \\
    &= ([-1,1]'')^\circ \\
    &= [-1,1]^\circ \\
    &= (-1,1) \\
    &\neq u.
  \end{align*}
\end{example}

Es decir, aunque $\neg a$ tenga negación, en general
solo tenemos la comparación $a\leq\neg\neg a$.
Sin embargo, si $\neg\neg a$ tiene negación, entonces sí se
cumple que $\neg\neg\neg a=\neg a$.
En efecto, dado que
\[
  a \leq \neg\neg a
,\]
al hacer ínfimo con $\neg\neg a$ obtenemos
\begin{align*}
  \neg\neg\neg a\inf a
  &\leq \neg\neg\neg a\inf \neg\neg a  \\
  &= 0,
\end{align*}
lo cual, por definición de la negación, es equivalente a
$\neg\neg\neg a\leq\neg a$, mientras que la otra comparación
$\neg a\leq\neg\neg\neg a$ ya la teníamos.

En el ejemplo \ref{exa:negaciones-en-espacios-top} encontramos
una retícula distributiva donde todo elemento tiene negación.
Ahora consideraremos ese tipo de retículas.

Por el lema \ref{lemma:complementado-ssi-supneg}, sabemos que
$a$ es tiene complemento $a'$ ssi $a\sup\neg a=1$.
Esto justifica el primer punto de la siguiente definición.
\begin{definition}
  Sea $A$ una retícula distributiva donde todo elemento tiene
  negación y tomemos un elemento $a\in A$.
  Decimos que
  \begin{enumerate}[(i)]
    \item $a$ es \emph{complementado} si $a\sup\neg a=1$,
    \item $a$ es \emph{regular} si $\neg\neg a = a$,
    \item $a$ es \emph{denso} si $\neg a = 0$.
  \end{enumerate}
\end{definition}

Nótese que $\neg a$ es regular para todo $a$, ya que
$\neg\neg\neg a =\neg a$.

\begin{example}
  Consideremos un espacio topológico $S$ y un abierto $u\in\cal
  OS$. Por el ejemplo \ref{exa:negaciones-en-espacios-top},
  sabemos que $u$ tiene negación dada como $\neg u=\ol
  u'=(u')^\circ$.
  Por lo tanto
  \begin{enumerate}
    \item
    $u$ es complementado en el sentido de retículas
    ($u\sup\neg u=1$)
    si, y solo si, su complemento es abierto.
    \item
    el abierto $u$ es regular en el sentido de retículas
    ($\neg\neg u = u$)
    si, y solo si, es regular en el sentido topológico
    ($(\ol u)^\circ=u$).
    \item
    Similarmente, $u$ es denso como elemento de la retículas
    ($\neg u=0$)
    si, y solo si, es denso en el sentido topológico
    ($\ol u=S$).
  \end{enumerate}
\end{example}

\begin{proposition}
  Un elemento $a$ de una retícula $A$ es denso
   si y solo si $\neg\neg a = 1$.
\end{proposition}
\begin{proof}
Tenemos
\begin{align*}
  \neg a = 0
  &\iff \neg a \leq 0 \\
  &\iff 1\inf \neg a \leq 0 \\
  &\iff 1\leq \neg\neg a \\
  &\iff 1=\neg\neg a.
\end{align*}
\end{proof}



\begin{proposition}
  Si $A$ es una retícula distributiva y $a,b\in A$ tienen
  negación, entonces $a\sup b$ también tiene negación y tenemos
  \[
    \neg(a\sup b) = \neg a \inf \neg b
  .\]
\end{proposition}
\begin{proof}
  Para cualquier $x\in A$, tenemos
  \begin{align*}
    x\inf(a\sup b) \leq 0
    &\iff (x\inf a)\sup(x\inf b) \leq 0 \\
    &\iff (x\inf a)\leq 0, \; (x\inf b) \leq 0 \\
    &\iff x\leq\neg a, \; x\leq\neg b \\
    &\iff x\leq(\neg a \inf \neg b).
  \end{align*}
  Así, $\neg a\inf\neg b$ es la negación de $a\sup b$, como se
  quería.
\end{proof}

Ahora, si en una retícula distrubutiva $A$ todos los elementos
tienen negación, entonces
\[
  \neg(a\sup\neg a) = \neg a\inf\neg\neg a = 0
,\]
por lo cual $a\sup\neg a$ siempre es denso.
Además
\begin{align*}
  \neg\neg a\inf(a\sup\neg a)
  &= (\neg\neg a\inf a)\sup(\neg\neg a\inf\neg a) \\
  &= a \inf 0 \\
  &= a,
\end{align*}
así que todo elemento $a\in A$ se puede expresar como el ínfimo
de un elemento denso y un elemento regular.

\begin{lemma}
  Sea $A$ una retícula distributiva donde todos los elementos
  tienen negación.
  Entonces $A$ es un álgebra booleana (todo elemento es
  complementado) si, y solo si, todo elemento es regular.
\end{lemma}
\begin{proof}
     Supongamos que $A$ es booleana, entonces todo
    $a\in A$ cumple $a\vee \neg a=1$.
    Luego $\neg a\vee \neg\neg a=1$, es decir, $\neg\neg a$ es
    complementado.
    Como el complemento de $\neg a$ es único, se tiene que $\neg
    \neg a=a$. \\ 
    Recíprocamente si que todos los elementos de $A$ son
    regulares y sea $a\in A$.
    Como $a$ y $a\sup\neg a$ son regulares, tenemos
    $a\sup\neg a=\neg\neg (a\sup\neg a)=\neg(\neg
    a\wedge \neg\neg a)=\neg 0=1$.
    Por lo tanto, $a\vee \neg a=1$, es decir, $a$ es
    complementado. Con ello $A$ es un álgebra booleana.
\end{proof}

\subsection{Implicaciones}

Una implicación en una semirretícula inferior $A$ es una operación
$(-\succ -)\colon A\rightarrow A$ tal que, para cualesquiera $a,x,y\in A$ se tiene
\[
  x\inf y\leq a \ssi x\leq (y\succ a )
.\]

\begin{example}
  En un álgebra booleana, nuestro caballo de batalla nos dice que
  \[
    x\inf y\leq a \ssi
    x\leq \neg y\sup a
  .\]
  Por lo tanto, toda álgebra booleana tiene implicación dada
  como $(y\succ a)=\neg y\sup a$.
\end{example}

Ahora vienen dos lemas técnicos.
\begin{lemma}\label{imp}
  Sea $A$ una $\inf$-semirretícula con implicación.
  Entonces
  \begin{enumerate}
    \item $(x\succ -)$ infla.
    \item $x\inf(x\succ a) = x\inf a$
    \item $(-\succ a)$ es antítona.
  \end{enumerate}
\end{lemma}
\begin{proof}
    \begin{enumerate}
        \item Como $a\wedge x\leq a$, tenemos
        $a\leq (x\succ a).$
        \item Consideremos $a, x\in A$.
        Para cada $z$ tenemos que 
        \begin{align*}
            z\leq x\wedge (x\succ a)
            & \iff z\leq x \mbox{ y } z\leq (x\succ a)\\
            & \iff z\leq x \mbox{ y } z\wedge x\leq a\\
            & \iff z\leq x \mbox{ y } z\leq a\\
            & \iff z\leq a\wedge x.
        \end{align*}
        Por lo tanto $x\inf(x\succ a) = x\inf a$.
        \item Supongamos que $x\leq y$. Consideremos $z=(y\succ a)$, entonces $x\wedge z\leq y\wedge z$ y por los incisos anteriores de este lema, $y\wedge z\leq a$. Así, $x\wedge z\leq a$ y por la definición de implicación obtenemos que $(y\succ a)\leq (x\succ a)$. 
    \end{enumerate}
\end{proof}

\begin{lemma}
  \label{lemma:w-cerradura}
  Sea $A$ una $\inf$-semirretícula con implicación.
  Para cualquier elemento $a\in A$, la función
  $((-\succ a)\succ a):A\to A$ tiene las siguientes propiedades.
  \begin{enumerate}
    \item $((-\succ a)\succ a)$ infla.
    (Inmediado del punto 2 del lema anterior).
    \item $((-\succ a)\succ a)$ es monótona.
      (Inmediato del punto 3 del lema anterior).
    \item $((-\succ a)\succ a)$ es idempotente.
  \end{enumerate}
\end{lemma}
\begin{proof}
  Solo falta probar el punto 3.
  Por el punto 1, tenemos
  \[
    (x\succ a) \leq (((x\succ a)\succ a)\succ a),
  \]
  así que resta probar
  \[
     (((x\succ a)\succ a)\succ a) \leq (x\succ a),
  \]
  que, por definición de la implicación, equivale a
  \[
     (((x\succ a)\succ a)\succ a) \inf x \leq a.
  \]
  Recordemos que $x\leq ((x\succ a)\succ a)$, porque $((-\succ
  a)\succ a)$ infla, y que
  $(y\succ a)\inf y = y\inf a$ para todo $y\in A$.
  En particular, para $y=((x\succ a)\succ a)$, tenemos
  \begin{align*}
     (((x\succ a)\succ a)\succ a) \inf x
     &\leq (((x\succ a)\succ a)\succ a)
       \inf ((x\succ a)\succ a) \\
     &= (y\succ a) \inf y \\
     &= y \inf a \\
     &\leq a,
  \end{align*}
  como se quería. 
\end{proof}

En el capítulo \ref{ch:cocientes} definiremos los operadores
cerradura como funciones $A\to A$ que cumplen estas tres
propiedades (definición \ref{def:operador-cerradura}).
Allí veremos que estos operadores juegan un papel
importante en el contexto de $\Sup$-semirretículas.

Así, el resultado anterior dice que, si $A$ es una
$\inf$-semirretícula con implicación,
entonces $((-\succ a)\succ a)$ es un operador cerradura.
Además, el operador $((-\succ a)\succ a)$ tiene otra propiedad:
preserva ínfimos.

\begin{lemma}
  \label{lemma:modalidad-w}
  Si $A$ es una $\inf$-semirretícula con implicación, entonces
  \[
    (((x\inf y)\succ a)\succ a)
    =
    ((x\succ a)\succ a) \inf
    ((y\succ a)\succ a)
  .\]
\end{lemma}
\begin{proof}
  Por un lado, como $((-\succ a)\succ a)$ es monótono, tenemos
  \begin{align*}
    (((x\inf y)\succ a)\succ a)
    &\leq ((x\succ a)\succ a)
    \\
    (((x\inf y)\succ a)\succ a)
    &\leq ((y\succ a)\succ a)
  \end{align*}
  así que $(((x\inf y)\succ a)\succ a)$ es cota inferior de
  $((x\succ a)\succ a)$ y $((y\succ a)\succ a)$.

  Ahora, dada cualquier cota inferior $z$ de estos dos elementos,
  queremos probar que $z \leq (((x\inf y)\succ a)\succ a)$,
  lo cual equivale a $z\inf((x\inf y)\succ a)\leq a$.
  Como $z$ es cota inferior, tenemos
  \begin{align*}
    z&\leq ((x\succ a)\succ a)
    &
    z&\leq ((y\succ a)\succ a)
  \end{align*}
  lo cual, por definición de la implicación, es
  \begin{align*}
    z\inf (x\succ a) &\leq a
    &
    z\inf (y\succ a) &\leq a.
  \end{align*}
  Ahora sea $w=((x\inf y)\succ a)$, de modo que
  \begin{align*}
    z\inf w\inf x\inf y
    &= z\inf ((x\inf y)\succ a)\inf(x\inf y) \\
    &\leq z\inf a \\
    &\leq a
  \end{align*}
  por definición de la implicación, esto nos da
  \begin{align*}
    z\inf w \inf x &\leq (y\succ a).
  \end{align*}
  Al hacer ínfimo con $z$ obtenemos
  \begin{align*}
    z\inf w \inf x
    &\leq z\inf (y\succ a) \leq a
  \end{align*}
  aplicando de nuevo la definición de la implicación,
  \begin{align*}
    z\inf w &\leq (x\succ a)
  \end{align*}
  y haciendo ínfimo con $z$,
  \begin{align*}
    z\inf w &\leq z\inf (x\succ a) \leq a
  \end{align*}
  Luego, $z\leq (w\succ a)=(((x\inf y)\succ a)\succ a)$,
  como se quería.
\end{proof}

También en el capítulo \ref{ch:cocientes}, veremos que
los operadores cerradura con esta propiedad, llamados núcleos
(definición \ref{def:nucleo}) tienen gran
relevancia en el contexto de marcos.


\section{Ejercicios}\label{exes}

En esta sección veremos varias afirmaciones en forma de ejercicios, esto no solo para que el lector reafirme el contenido, si no, a su vez, para complementar algunas cosas de la teoría.
\begin{itemize}
  \item[(1)]:
  Demuestre que en efecto, los siguientes datos forman una categoría en el sentido de \ref{def:cats}.
  \begin{enumerate}
    \item $\Pos$.
    \item $\Pos^{\wedge}$.
    \item $\Pos^{\vee}$.
    \item $\Lat$
    \item $\DLat$
    \item $\InfLat$
    \item $\Heyt$
    \item $\cHeyt$
    \item $\Bool$
    \item $\Frm$.
  
  \end{enumerate}
\item[(2)]
Veamos que en efecto toda topología esta dada por un operador cerradura.

   Sea $S$ un conjunto y consideremos una topología en $S$, digamos $\mathcal{O}S$.
  Para cualquier subconjunto $A$ de $S$ sea \[J_{\mathcal{O}S}(A)=\bigcup\{U\subseteq A\mid U\in\mathcal{O}S\}\]
  
\begin{enumerate}
  \item[(i)] Demuestre que $J_{\mathcal{O}S}(\_)\colon\mathcal{P}(S)\rightarrow\mathcal{P}(S)$ es una función que satisface:
  \begin{itemize}
    \item[(i.1)] $J_{\mathcal{O}S}(\_)$ es monótona e idempotente.
    \item[(i.2)] $J_{\mathcal{O}S}(A)\subseteq A$ para todo $A\in\mathcal{P}(S)$.
    \item[(ii.3)] $J_{\mathcal{O}S}(A\cup B)\subseteq J_{\mathcal{O}S}(A)\cup J_{\mathcal{O}S}(B)$ (y así se da la igualdad). 
    \item[(iii.4)] $\mathcal{P}(S)_{J_{\mathcal{O}S}(\_)}=\mathcal{O}(S)$. 
  \end{itemize} 
\end{enumerate}
\end{itemize}




\section{Aspectos categóricos}\label{ascpect}

\subsection{Morfismos adjuntos de copos}
\label{ss:adj-copos}
Recordemos que, cuando vemos a $A$ y a $B$ como categorías,
un morfismo de copos $f:A\to B$ es lo mismo que un funtor,
así que podemos aplicar el concepto de adjunción entre funtores.
En este caso, dos morfismos de copos $f:A\to B$, $g:B\to A$
cumplen $(f\dashv g)$ (es decir, $g$ es adjunto derecho de $f$ y
$f$ es adjunto izquierdo de $g$) si
\[
    B(fa,b) \simeq A(a,gb)
;\]
esto es:
\[
    fa\leq b \ssi a\leq gb
.\]

\begin{example}
  Sea $A$ un álgebra de Heyting (por ejemplo, un marco).
  Para todo $a\in A$ a implicación $(a\succ -)$ es
  el adjunto derecho del ínfimo $-\inf a$, pues
  \[
    y\inf a\leq b \ssi y\leq (a\succ b)
  .\]
\end{example}

\begin{example}
  \label{exa:adjuncion-potencia}
  Sea $\phi:S\to T$ una función entre conjuntos.
  Entonces la imagen directa $\phi_!:\cal PS\to\cal PT$ y
  la imagen inversa $\phi^{-1}:\cal PT\to\cal PS$, definidas para
  cualesquiera $U\subseteq S$ y $V\subseteq T$ como
  \begin{align*}
    \phi_!(U)
    &= \{\phi(x) \mid x\in U\}
    = \{y\in Y\mid \exists x\in U, y=\phi(x) \}
    \\
    \phi^{-1}(V)
    &= \{x\in X \mid \phi(x)\in V\}
  \end{align*}
  son morfismos de copos que satisfacen
  \begin{align*}
    \phi_!(U) \subseteq V
    &\iff \forall x\in U, \phi(x)\in V \\
    &\iff \forall x\in U, x\in \phi^{-1}(V) \\
    &\iff U\subseteq \phi^{-1}(V),
  \end{align*}
  así que $\phi_!\dashv \phi^{-1}$.

  Más aún, $\phi^{-1}$ también tiene adjunto derecho. En efecto,
  tenemos
  \begin{align*}
    \phi^{-1}(V) \subseteq U
    &\iff U'\subseteq \phi^{-1}(V)' \\
    &\iff U'\subseteq \phi^{-1}(V') \\
    &\iff \phi_!(U')\subseteq V' \\
    &\iff V\subseteq \phi_!(U')'.
  \end{align*}
  Así, definiendo $\phi_?:\cal PS\to\cal PT$ por la fórmula
  $\phi_?(U)=\phi_!(U')'$, tenemos $\phi^{-1}\dashv \phi_?$.
  Explícitamente,
  \begin{align*}
    \phi_?(U)
    &= \{y\in T \mid x\not\in \phi_!(U') \} \\
    &= \{y\in T \mid \forall x\in U', y\neq \phi(x) \}.
  \end{align*}
\end{example}

\begin{example}%[Dante $\checkmark$ ]
  \label{exa:adjunto-derecho-top}
  Si $\phi:S\to T$ es una función continua entre espacios
  topológicos, el morfismo de marcos
  $\phi^*=\cal O\phi:\cal OT\to\cal OS$,
  definido como $\phi^*(v)=\phi^{-1}(v)$ para cada $v\in\cal OT$,
  tiene adjunto derecho.
  Si $\phi_?:\cal PS\to\cal PT$ es el adjunto derecho de la
  preimagen $\phi^{-1}:\cal PT\to\cal PS$ (ver ejemplo
  \ref{exa:adjuncion-potencia}), tenemos
  \begin{align*}
    \phi^*(v) \leq u
    &\iff \phi^{-1}(v) \leq u \\
    &\iff v \leq \phi_?(u) \\
    &\iff v\leq \phi_?(u)^\circ,
  \end{align*}
  ya que $\phi_?(u)^\circ$ es el abierto más grande contenido en
  $\phi_?(u)$.
  Por lo tanto, el adjunto derecho $\phi_*:\cal OS\to\cal OT$ de
  $\phi^*$ se calcula como
  \begin{align*}
    \phi_*(u) &= \phi_?(u)^\circ = (\phi_!(u')')^\circ = \ol{\phi_!(u')}',
  \end{align*}
  donde $\phi_!:\cal PS\to\cal PT$ es la imagen directa.
\end{example}

\begin{lemma}
    Sea $f:A\to B$ un morfismo de $\Sup$-semirretículas
    (por ejemplo, un morfismo de marcos).
    Entonces la función $f_*:B\to A$ dada como
    \[
        f_*(b) = \Sup\{x\in A \mid f(x)\leq b\} 
    \]
    es un morfismo de copos y es adjunto derecho de $f$.
    Más aún, $f_*$ es morfismo de $\Inf$-semirretículas.
\end{lemma}
\begin{proof}
    Sea $X=\{x\in A\mid f(x)\leq b\}$.
    Si $a\in A$ es tal que $f(a)\leq b$, entonces $a\in X$,
    por lo cual
    \[
        a\leq \Sup X= f_*(b)
    .\]
    Recíprocamente, si $a\leq f_*(b)=\Sup X$, entonces
    \begin{align*}
        f(a)
        &\leq f(\Sup X) \\
        &= \Sup\{f(x)\mid f(x)\leq b\} \\
        &\leq b,
    \end{align*}
    ya que $f$ preserva supremos.

    La monotonía de $f_*$ se sigue de que preserva ínfimos (lo
    cual probaremos abajo) pero de todos modos es fácil verlo,
    así que lo haremos por separado.
    Si tenemos $b\leq c\in B$, entonces
    \[
        \{x\in X\mid f(x)\leq b\} \subseteq
        \{x\in X\mid f(x)\leq c\}.
    \]
    Aplicando supremos, obtenemos $f_*(b)\leq f_*(c)$.
    
    Finalmente, veamos que $f_*$ preserva ínfimos.
    Si $Y\subseteq B$ es cualquier subconjunto,
    entonces todo $a\in A$ cumple
    \begin{align*}
        a\leq f_*(\Inf Y)
        &\iff f(a)\leq \Inf Y \\
        &\iff (\forall y\in Y,\; f(a)\leq y) \\
        &\iff (\forall y\in Y,\; a\leq f_*(y)) \\
        &\iff a\leq \Inf\{f_*(y) \mid y\in Y\}.
    \end{align*}
    Se sigue que $f_*(\Inf Y)=\Inf\{f_*(y)\mid y\in Y\}$.
\end{proof}

Sin embargo, nótese que, aunque $f:A\to B$ sea un morfismo
de marcos, su adjunto derecho $f_*:B\to A$
puede no preservar supremos finitos.







\section{Monomorfismos y epimorfismos}

Recordemos que, dada una categoría $\cal C$, un morfismo es
\begin{itemize}
    \item un monomorfismo si es cancelable por la izquierda,
    \item un epimorfismo si es cancelable por la derecha y
    \item un bimorfismo si es monomorfismo y epimorfismo.
\end{itemize}

\begin{exercise}[Para el lector]%[Armando]
    Muéstrese que, en la categoría $\Top$ de los espacios topológicos,
    un morfismo es
    \begin{itemize}
        \item suprayectivo si, y solo si, es un epimorfismo,
        \item inyectivo si, y solo si, es un monomorfismo.
    \end{itemize}
\end{exercise}

Este también es el caso las categorías de conjuntos, grupos y
espacios vectoriales, pero no en la categoría de anillos.
En efecto, aunque un morfismo de anillos es
\begin{align*}
    \text{inyectivo} &\iff \text{monomorfismo y} \\
    \text{suprayectivo} &\implies \text{epimorfismo},
\end{align*}
la inclusión
\[
    i:\mathbb Z\to\mathbb Q
\]
es un ejemplo de un epimorfismo de anillos que no es suprayectivo.

Veremos que, en este aspecto, la categoría de marcos se comporta
parecido a la categoría de anillos, pues aunque en $\Frm$ es cierto que
\begin{align*}
    \text{inyectivo} &\iff \text{monomorfismo y} \\
    \text{suprayectivo} &\implies \text{epimorfismo},
\end{align*}
también existen epimorfismos no suprayectivos.

\begin{lemma}
    Todo monomorfismo de marcos es inyectivo,
    así que, en $\Frm$, un morfismo es
    \[
        \text{inyectivo} \iff \text{monomorfismo.}
    \]
\end{lemma}
\begin{proof}
    Vamos a usar el marco
    \[
        3 \hspace{10mm} = \hspace{10mm}
        \begin{tikzcd}
            1 \\ \star \ar[u,no head] \\ 0. \ar[u,no head]
        \end{tikzcd}
    \]
    Sea $m:A\to B$ un monomorfismo y $a,b\in A$ tales que $m(a)=m(b)$.
    Como las funciones $f_a,f_b:3\to A$ dadas por
    $f_a(\star)=a$ y $f_b(\star)=b$ son morfismos de marcos que cumplen
    $m(f_a(\star))=m(a)=m(b)=m(f_b(\star))$, se sigue que $mf_a=mf_b$.
    Como $m$ es monomorfismo, se sigue que $f_a=f_b$, así que
    $a=f_a(\star)=f_b(\star)=b$.
\end{proof}

Del truco del marco $3$ que usamos en la demostración anterior,
se puede deducir que las asignaciones
\begin{align*}
    B &\leftrightarrows \Frm(3,B) \\
    a &\mapsto f_a \\
    f(\star) &\mapsfrom f
\end{align*}
forman un isomorfismo de marcos,
donde $\Frm(3,B)$ tiene el orden puntual.

Ahora queremos construir un epimorfismo de marcos que no es
suprayectivo.
\begin{lemma}
    Si $S$ es un espacio topológico $T_1$, entonces
    la inclusión $i:\cal OS\to\cal PS$ es un epimorfismo.
\end{lemma}
\begin{proof}
    Sean
    \[
        \begin{tikzcd}
            A
            & \cal PS \ar[l,"f"',shift right] \ar[l,"g",shift left]
            & \cal OS \ar[l,"i"']
        \end{tikzcd}
    \]
    morfismos en $\Frm$ con $fi=gi$.
    
    Dado $p\in S$, consideremos $X_p=\{p\},U_p=\{p\}'\in\cal PS$.
    Como $X_p$ y $U_p$ son complementarios en $\cal PS$,
    sus imágenes en $A$ (bajo $f$ y bajo $g$) son complementarias.
    Ahora, como $S$ es $T_1$, entonces $X_p$ es cerrado, así que
    $U_p$ es abierto.
    Como $fi=gi$, esto implica que
    \begin{align*}
        f(U_p)
        &= f(i(U_p)) \\
        &= g(i(U_p)) \\
        &= g(U_p).
    \end{align*}
    Luego, la unicidad de los complementos nos da
    \begin{align*}
        f(X_p)
        &= \neg f(U_p) \\
        &= \neg g(U_p) \\
        &= g(X_p).
    \end{align*}
    Ahora, para cualquier $E\in\cal PS$ tenemos
    $E=\Sup\{X_p\mid p\in E\}$.
    Como $f$ y $g$ son morfismos de marcos,
    \begin{align*}
        f(E)
        &= \Sup\{f(X_p) \mid p\in E\} \\
        &= \Sup\{g(X_p) \mid p\in E\} \\
        &= g(E),
    \end{align*}
    por lo cual $f=g$.
    Se sigue que $i$ es un epimorfismo.
\end{proof}
En particular, si $S$ es un espacio topológico $T_1$ no discreto
(es decir, $\cal OS\neq\cal PS$), entonces la inclusión
$i:\cal OS\to\cal PS$ es un ejemplo de epimorfismo de marcos que
no es suprayectivo.

\subsection{Reflexiones}

\subsection{La completación de secciones inferiores}
Si $A$ es una $\inf$-semirretícula, nos gustaría encontrar un
marco $\hat A$ que complete a $A$ ``de la mejor manera posible''.

¿Qué tal el conjunto potencia $\cal PA$?
Es un álgebra booleana completa, tiene leyes distributivas
fuertes; quizá demasiado fuertes.
Además, la retícula que buscamos debería tener a $A$ como una
subretícula, mientras que
la función obvia $A\to\cal PA$ dada por $a\mapsto\{a\}$
no preserva el orden, así que no es una inclusión de
retículas.
Vamos a refinar esta situación.

Si $A$ es un copo, una sección inferior de $A$
es un subconjunto $L\subseteq A$ que "absorbe hacia abajo".
Es decir, si $a\leq b\in L$, entonces $a\in L$.

Denotemos como $\cal LA$ al conjunto de todas las secciones
inferiores en $A$.
Nótese que, por vacuidad, el conjunto vacío
$\emptyset\subseteq A$ es una sección inferior de $A$.
Además, la intersección de dos secciones
inferiores vuelve a ser una sección inferior, mientras que la
unión arbitraria de secciones inferiores también lo es.
En otras palabras, $\cal LA$ es un submarco de $\cal PA$.

Así, $\cal LA$ es una topología en $A$, que podríamos llamar la
topología de coespecialización. (La topología de especialización
en un copo $A$ es el conjunto de secciones superiores).
Las topologías de especialización y coespecialización tienen la
propiedad interesante de que una función entre dos copos es
monótona ssi es continua en la topología de
especialización ssi es continua en la topología de
coespecialización.
Sin embargo, ahora nos enfocaremos más en el aspecto reticular
de $\cal LA$ que en sus propiedades como topología de $A$.

Para cada subconjunto $F\subseteq A$, el conjunto
\[
  \down F = \{a\in A \mid \exists c\in F , a\leq c\} \subseteq A
\]
es una sección inferior.
De hecho, es la sección inferior más pequeña que contiene a $F$.
Decimos que $\down F$ es la sección inferior generada por $F$.
La asignación $F\mapsto\down F$ nos da una función
\[
  \down:\cal PA\to\cal PA
\]
cuyo conjunto de sus puntos fijos
(es decir, los $F\in\cal PA$ con $F=\down F$) es $\cal LA$.
Además, $\down$ es una función monótona, idempotente, infla
(es decir, $F\subseteq\down F$) y cumple $\down(F\cup G)=\down
F\cup\down G$.
En general, la igualdad $\down(F\cap G)=\down F\cap\down G$ no se
cumple. Sin embargo, si $A$ es una semirretícula inferior,
entonces tenemos una identidad similar.
Definiendo $F\inf G := \{x\inf y \mid x\in F, y\in G\}$,
tenemos $\down(F\inf G)= \down F\cap\down G$, ya que
\begin{align*}
  a\in\down(F\inf G)
  &\iff \exists(c\in F\inf G).(a\leq c) \\
  &\iff \exists(f\in F,g\in G).(a\leq f\inf g) \\
  &\iff \exists(f\in F,g\in G).(a\leq f, a\leq g) \\
  &\iff a\in \down F, a\in \down G \\
  &\iff a\in \down F\cap\down G.
\end{align*}

En particular, si $A$ es una $\inf$-semirretícula,
entonces la función
\begin{align*}
    \down : A&\to \cal LA \\
    a&\mapsto \down a:=\down\{a\}
\end{align*}
es un morfismo de $\inf$-semirretículas.
Así, $A$ se puede ver como una sub-$\inf$-semirretícula del marco
$\cal LA$.
En este sentido, $\cal LA$ ``le da'' a $A$ los supremos que le
faltan para ser un marco.
Además, es de esperarse que existan otros marcos $B$ y morfismos
de $\inf$-semirretículas $A\to B$. Sin embargo, afirmamos que
$\down:A\to\cal LA$ es el mejor de estos morfismos, en el sentido
de que $\down:A\to LA$ exhibe a $\cal LA$ como el marco libre
sobre la $\inf$-semirretícula $A$.

\begin{proof}

    Consideremos el funtor de olvido $U:\Frm\to\Pos^{\inf}$.
    Precomponer con $\down$ nos da una flecha
    \[
        \Frm(\cal LA,-)\to \Pos^{\inf}(A,U-)
    ,\]
    
    Resta ver que esta flecha es una biyección.
    Es decir, dado un morfismo $f:A\to B$
    de $\inf$-semirretículas,
    debemos probar que existe un único morfismo de marcos
    $f^\sharp:\cal LA\to B$ que factoriza a $f$ a través
    de $\down$:
    \[
        f^\sharp\down = f
    .\]
    Es decir, $f^\sharp(\down a)=f(a)$ para todo $a\in A$.
    Esta condición determina completamente a $f^\sharp$.
    En efecto, para toda sección inferior $F\in\cal LA$ tenemos
    $F=\bigcup\{\down a \mid a\in F\}$ y, como también queremos
    que $f^\sharp$ respete supremos, se debe cumplir
    \begin{align*}
        f^\sharp(F)
        &= \Sup\{f^\sharp(\down a) \mid a\in F\} \\
        &= \Sup\{f(a) \mid a\in F\}.
    \end{align*}
    Tomando esta ecuación como la definición de $f^\sharp$, es
    claro que $f^\sharp(\down a)=f(a)$.
    Por lo tanto, si $f^\sharp:\cal LA\to B$ es un
    morfismo de marcos, es el único con esta propiedad.
    Verificamos las propiedades directamente.
    \begin{itemize}
        \item En efecto, si $F\subseteq G\cal\in LA$, entonces 
        \[
            \{f(a) \mid a\in F\} \subseteq \{f(a) \mid a\in G\}
        .\]
        Tomando supremos, obtenemos
        $f^\sharp(F)\leq f^\sharp(G)$, así que $f^\sharp$ es
        monótona.
        \item
        Dadas $F,G\in\cal LA$, hay que mostrar
        que $f^\sharp(F\cap G)=f^\sharp(F)\inf f^\sharp(G)$.
        La comparación $\leq$ se sigue de la monotonía de
        $f^\sharp$.
        Por otro lado, observemos que
        \[
            \{ a\inf b \mid a\in F, b\in G\}
            \subseteq F\cap G,
            \hspace{10mm} (*)
        \]
        pues $F$ y $G$ son secciones inferiores.
        Luego,
        \begin{align*}
            f^\sharp(F)\inf f^\sharp(G)
            &= \Sup\{f(a)\inf f(b) \mid a\in F, b\in G\}
                && \text{ ley dist. de marcos } \\
            &= \Sup\{f(a\inf b) \mid a\in F, b\in G\} \\
            &\leq \Sup\{f(c) \mid c\in F\cap G\}
                && \text{ por $(*)$ } \\
            &= f^\sharp(F\cap G),
        \end{align*}
        como se quería.
        \item
        Dado $X\subseteq \cal LA$, hay que mostrar que
        $f^\sharp(\bigcup X)=\Sup\{f^\sharp(F) \mid F\in X\}$.
        Como $f^\sharp$ es monótona,
        $f^\sharp(\bigcup X)$ es cota superior de
        $\{f^\sharp(F) \mid F\in X\}$.
        Para ver que es la mínima, sea $b\in B$ tal que
        $f^\sharp(F)\leq b$ para todo $F\in X$.
        Por definición de $f^\sharp$, esto significa que
        $f(a)\leq b$ para cualesquiera $a\in F, F\in X$.
        Luego,
        \begin{align*}
            f^\sharp(\bigcup X)
            &= f^\sharp (
            \{a\in A \mid a\in F\text{ para algún }F\in X\}
            ) \\
            &=
            \Sup\{f(a)\in A \mid a\in F\text{ para algún }F\in X\}) \\
            &\leq b,
        \end{align*}
        como se deseaba.
    \end{itemize}
    Por lo tanto, $f^\sharp$ es morfismo de marcos.
    Así, tenemos un isomorfismo
    \[
        \Frm(\cal LA,-)\xto{-\circ \down} \Pos^{\inf}(A,U-)
    \]
    y, así, $\cal LA$ es el marco libre en $A$.
    
    Observemos que esto es válido para cualquier
    semirretícula $A$.
    Más aún, dado un morfismo de $\inf$-semirretículas
    $g:A\to A'$, la composición
    \[
        \cal LA' \lar \down A' \lar g A
    \]
    es un morfismo de $\inf$-semirretículas y
    $\cal LA'$ es un marco, así que
    existe un único morfismo de marcos
    $g^\sharp:\cal LA\to \cal LA'$ que factoriza a
    $\down g$ a través de $\down:A\to \cal LA$.
    Si definimos $\cal Lg=g^\sharp:\cal LA\to\cal LA'$,
    obtenemos una función
    \[
        \Pos^{\inf}(A,A') \to \Frm(\cal LA,\cal LA')
    .\]
    Más aún, las propiedades de unicidad de
    $\cal Lg=g^\sharp$ aseguran que $\cal L$ es un funtor
    $\cal L:\Pos^{\inf}\to\Frm$.
    Luego, tenemos una adjunción $\cal L\dashv U$
    (ver \ref{ss:adjunciones}).
\end{proof}

\begin{exercise}[Para el lector]%[Armando]
  Dado un copo $A$,
  ¿Quién será la negación y la implicación en $\cal LA$?
\end{exercise}


